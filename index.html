<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Birthday Present</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden;
            width: 100%;
            height: 100%;
        }
        .layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
        }
        .gift {
            background-image: url('gift.png');
        }
    </style>
</head>
<body>
    <div id="layer4" class="layer" style="background-image: url('wrapping4.png');"></div>
    <div id="layer3" class="layer" style="background-image: url('wrapping3.png');"></div>
    <div id="layer2" class="layer" style="background-image: url('wrapping2.png');"></div>
    <div id="layer1" class="layer" style="background-image: url('wrapping1.png');"></div>
    <div class="layer gift"></div>

    <script>
        const layers = [
            { id: 'layer1', direction: 'up' },
            { id: 'layer2', direction: 'right' },
            { id: 'layer3', direction: 'down' },
            { id: 'layer4', direction: 'left' }
        ];

        layers.forEach((layer, index) => {
            const element = document.getElementById(layer.id);
            let startX, startY, initialX, initialY;

            element.addEventListener('mousedown', startDrag);
            element.addEventListener('touchstart', startDrag);

            function startDrag(e) {
                e.preventDefault();
                if (e.type === 'mousedown') {
                    startX = e.clientX;
                    startY = e.clientY;
                    document.addEventListener('mousemove', drag);
                    document.addEventListener('mouseup', endDrag);
                } else {
                    startX = e.touches[0].clientX;
                    startY = e.touches[0].clientY;
                    document.addEventListener('touchmove', drag);
                    document.addEventListener('touchend', endDrag);
                }
                initialX = element.offsetLeft;
                initialY = element.offsetTop;
            }

            function drag(e) {
                e.preventDefault();
                let currentX, currentY;

                if (e.type === 'mousemove') {
                    currentX = e.clientX;
                    currentY = e.clientY;
                } else {
                    currentX = e.touches[0].clientX;
                    currentY = e.touches[0].clientY;
                }

                const deltaX = currentX - startX;
                const deltaY = currentY - startY;

                if (layer.direction === 'up') {
                    element.style.top = `${initialY + deltaY}px`;
                    if (deltaY < -window.innerHeight) removeLayer(index);
                } else if (layer.direction === 'down') {
                    element.style.top = `${initialY + deltaY}px`;
                    if (deltaY > window.innerHeight) removeLayer(index);
                } else if (layer.direction === 'left') {
                    element.style.left = `${initialX + deltaX}px`;
                    if (deltaX < -window.innerWidth) removeLayer(index);
                } else if (layer.direction === 'right') {
                    element.style.left = `${initialX + deltaX}px`;
                    if (deltaX > window.innerWidth) removeLayer(index);
                }
            }

            function endDrag() {
                document.removeEventListener('mousemove', drag);
                document.removeEventListener('mouseup', endDrag);
                document.removeEventListener('touchmove', drag);
                document.removeEventListener('touchend', endDrag);
            }

            function removeLayer(index) {
                const element = document.getElementById(layers[index].id);
                element.style.display = 'none';
            }
        });
    </script>
</body>
</html>
